% Configuraci贸n de referencias y citas
% -----------------------------------------------------------------------------
\ifthenelse{\equal{\stylecitereferences}{bibtex}}{
	\bibliographystyle{\bibtexstyle}
	\newlength{\bibitemsep}
	\setlength{\bibitemsep}{.2\baselineskip plus .05\baselineskip minus .05\baselineskip}
	\newlength{\bibparskip}\setlength{\bibparskip}{0pt}
	\let\oldthebibliography\thebibliography
	\renewcommand\thebibliography[1]{
		\oldthebibliography{#1}
		\setlength{\parskip}{\bibitemsep}
		\setlength{\itemsep}{\bibparskip}
	}
	\setlength{\bibitemsep}{\bibtexrefsep pt}
}{
\ifthenelse{\equal{\stylecitereferences}{custom}}{
	\coretemplatemessage{Usando estilo citas referencias custom, importar librerias y configuraciones posterior al llamado de template.tex en archivo principal}
}{
	\throwbadconfig{Estilo citas desconocido}{\stylecitereferences}{bibtex,custom}}
}

% Justificaci贸n de textos
% -----------------------------------------------------------------------------
\ifthenelse{\equal{\frametextjustified}{true}}{
	\apptocmd{\frame}{}{\justifying}{}
}{}
\newcommand{\justifytext}[1]{\parbox{\linewidth}{#1}}

% Word-break en citas
% -----------------------------------------------------------------------------
\makeatletter
\let\@cite@ofmt\@firstofone
\makeatother

% Configura footnotes
% -----------------------------------------------------------------------------
\let\oldfootnote\footnote
\renewcommand\footnote[1][]{\oldfootnote[frame,#1]}

% Corrige espaciamiento de itemize
% -----------------------------------------------------------------------------
\ifthenelse{\equal{\itemizedeleteleftmargin}{true}}{
	\setlist[itemize]{leftmargin=*}
	\setlist[enumerate]{leftmargin=*}
}{}

% Cambios generales en presentaci贸n
% -----------------------------------------------------------------------------
% \let\Tiny=\tiny % https://tex.stackexchange.com/q/58087/5764
\renewcommand{\insertshorttitle}{\documentsubtitle}

% Configura los bloques
% -----------------------------------------------------------------------------
\addtobeamertemplate{block begin}{
}{
	\setlength\abovedisplayskip{0pt}%
	\vspace{\dimexpr-0.7em + \blockpaddingtop em} % Padding superior
	\begin{adjustwidth}{%
		\dimexpr-0.4em + \blockpaddingleft em % Padding izquierdo
	}{
		\dimexpr-0.4em + \blockpaddingright em % Padding derecho
	}
}
\addtobeamertemplate{block end}{
	\end{adjustwidth}
	\vspace{\dimexpr-0.6em + \blockpaddingbottom em} % Padding inferior
}{
	\vspace{\dimexpr-1em + \blockmarginbottom em} % Margen inferior de los bloques
}

% Definici贸n de entornos beamer
% -----------------------------------------------------------------------------
\newenvironment<>{blockjustified}[1]{%
	\begin{block}#2{#1}\justifying
}{%
	\end{block}
}

% END